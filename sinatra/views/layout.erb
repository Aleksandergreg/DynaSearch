<!doctype html>
<html>
<head>
  <title>DynaSearch ðŸ§¨</title>
  <link rel="stylesheet" type="text/css" href="/style.css">
  <%# Add link to favicon if you have one in public/ %>
  <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
  <div class="page">
    <div class="navigation">
      <nav>
        <h1><a id="nav-logo" href="/">DynaSearch ðŸ§¨</a></h1>
        <a id="nav-weather" href="/weather"> Weather forecast </a>
        <% if current_user %>
          <a id="nav-logout" href="/api/logout">Log out [<%= current_user['username'] %>]</a>
        <% else %>
          <a id="nav-login" href="/login">Log in</a>
          <a id="nav-register" href="/register">Register</a>
        <% end %>
      </nav>
    </div>

    <%# Display flash notice if present %>
    <% if flash[:notice] %>
      <ul class="flashes">
        <li><%= flash[:notice] %></li>
      </ul>
    <% end %>

     <%# Display flash error if present (Optional, good for login/register errors) %>
     <% if flash[:error] %>
      <div class="error">
        <strong>Error:</strong> <%= flash[:error] %>
      </div>
     <% end %>

    <div class="body">
      <%= yield %>
    </div>

    <div class="footer">
      <span>DynaSearch ðŸ§¨ &copy; 2025</span>
      <a href="/about">About</a>
      <a href="/sla">SLA</a> 
    </div>
  </div>
  <%# Correct path for script located in public/js/search.js %>
  <script src="/js/search.js"></script>
</body>
</html>