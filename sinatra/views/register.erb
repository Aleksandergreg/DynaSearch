<%# views/register.erb %>
<h2>Sign Up</h2>

<%# The block displaying locals[:error] has been removed from here %>

<form action="/api/register" method="post">
  <dl>
    <dt>Username:
      <%# Use passed locals for repopulation if registration fails %>
    <dd><input type="text" name="username" size="30" value="<%= locals[:username] || '' %>">

    <dt>E-Mail:
    <dd><input type="email" name="email" size="30" value="<%= locals[:email] || '' %>">

    <dt>Password:
    <dd><input type="password" name="password" size="30">

    <dt>Password <small>(repeat)</small>:
    <dd><input type="password" name="password2" size="30">
  </dl>
  <div class="actions"><input type="submit" value="Sign Up"></div>
</form>